<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
  </configSections>
  <log4net>
    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="logfile-SkyStemARTService.txt"/>
      <appendToFile value="true"/>
      <rollingStyle value="Size"/>
      <maxSizeRollBackups value="10"/>
      <maximumFileSize value="500KB"/>
      <staticLogFileName value="true"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%newline%date [%thread] %-5level %logger [%property{NDC}] [%property{source}] [%property{logDate}] [%property{companyID},%property{loginID},%property{recPeriodID},%property{dataImportID}] - %message%newline%property{stackTrace}%newline"/>
      </layout>
    </appender>
    <appender name="ServiceTimeStampFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="logfile-SkyStemARTServiceTimeStamp.txt"/>
      <appendToFile value="true"/>
      <rollingStyle value="Size"/>
      <maxSizeRollBackups value="5"/>
      <maximumFileSize value="100KB"/>
      <staticLogFileName value="true"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%newline%date [%thread] %-5level - %message"/>
      </layout>
    </appender>
    <!--Database Logging-->
    <appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
      <filter type="log4net.Filter.LevelMatchFilter">
        <acceptOnMatch value="true"/>
        <levelToMatch value="ERROR"/>
      </filter>
      <filter type="log4net.Filter.DenyAllFilter"/>
      <bufferSize value="1"/>
      <immediateFlush value="true"/>
      <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
      <commandType value="StoredProcedure"/>
      <commandText value="usp_INS_LogError"/>

      <parameter>
        <parameterName value="@companyID"/>
        <dbType value="Int32"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{companyID}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@recPeriodID"/>
        <dbType value="Int32"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{recPeriodID}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@dataImportID"/>
        <dbType value="Int32"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{dataImportID}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@loginID"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{loginID}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@exception"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{exception}"/>
        </layout>
      </parameter>

      <parameter>
        <parameterName value="@logDate"/>
        <dbType value="DateTime"/>
        <layout type="log4net.Layout.RawTimeStampLayout">
          <conversionPattern value="%property{logDate}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@level"/>
        <dbType value="String"/>
        <size value="200"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%level"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@source"/>
        <dbType value="String"/>
        <size value="200"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{source}"/>
        </layout>
      </parameter>
    </appender>
    <appender name="DebugAppender" type="log4net.Appender.DebugAppender">
      <immediateFlush value="true"/>
      <layout type="log4net.Layout.SimpleLayout"/>
    </appender>
    <logger name="SkyStemARTLogger">
      <appender-ref ref="RollingFileAppender"/>
      <appender-ref ref="AdoNetAppender"/>
      <!--<appender-ref ref="DebugAppender" />-->
    </logger>
    <logger name="ServiceTimeStampLogger">
      <appender-ref ref="ServiceTimeStampFileAppender"/>
    </logger>
    <root>
      <level value="INFO"/>
    </root>
  </log4net>
  <connectionStrings>
    <clear/>
    <add name="ConStr" connectionString="Data Source=(local); Initial Catalog=SkyStemART; Integrated Security=true; Trusted_Connection=false;Connect Timeout=600;"/>
  </connectionStrings>
  <appSettings>
    <!-- log4net configuration when running in debug mode. -->
    <add key="log4net.Internal.Debug" value="false"/>
    <!-- BEGIN Language Settings-->
    <add key="ApplicationID" value="1"/>
    <add key="DefaultLanguageID" value="1033"/>
    <add key="DefaultBusinessEntityID" value="0"/>
    <!-- END Language Settings -->
    <!--start Timer Elapsed time in Mins -->
    <add key="DataProcessingTimerIntervalInMins" value="2"/>
    <add key="RecPeriodStatusProcessingTimerIntervalInMins" value="120"/>
    <add key="AlertProcessingTimerIntervalInMins" value="10"/>
    <add key="MatchingFileProcessingTimerIntervalInMins" value="2"/>
    <add key="MatchingEnginePcessingTimerIntervalInMins" value="2"/>
    <add key="MultilingualUploadProcessingTimerIntervalInMins" value="2"/>
    <add key="ExportToExcelProcessingTimerIntervalInMins" value="2"/>
    <add key="LargeRequestProcessingTimerIntervalInMins" value="2"/>
    <add key="UserUploadProcessingTimerIntervalInMins" value="2"/>
    <add key="CompanyCreationTimerIntervalInMins" value="2"/>
    <add key="AccountReconcilabilityProcesssingTimerIntervalInMins" value="3"/>
    <add key="IndexRecreationServiceProcesssingTimerIntervalInMins" value="10080"/>
    <add key="RecItemImportProcessingTimerIntervalInMins" value="2"/>
    <add key="TaskUploadProcessingTimerIntervalInMins" value="2"/>
    <add key="ClearCompanyCacheTimerIntervalInMins" value="60"/>
    <!--end Timer Elapsed time in seconds-->

    <!-- Begin Parallel Processing Settings -->
    <add key="EnableParallelProcessing" value="false"/>
    <add key="ParallelProcessingTimeOut" value="600"/>
    <!-- End Parallel Processing Settings -->

    <add key="xls" value="Provider=Microsoft.Jet.OLEDB.4.0;Data Source={0};Extended Properties='Excel 8.0;HDR={1};IMEX=1;TypeGuessRows=0;ImportMixedTypes=Text'"/>
    <add key="xlsx" value="Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Extended Properties='Excel 8.0;HDR={1};IMEX=1;TypeGuessRows=0;ImportMixedTypes=Text'"/>
    <add key="xlsExport" value="Provider=Microsoft.Jet.OLEDB.4.0;Data Source={0};Extended Properties='Excel 8.0;HDR={1};'"/>

    <!-- Begin Email Settings-->
    <add key="SmtpServer" value="127.0.0.1"/>
    <add key="SmtpPort" value="25"/>
    <add key="UserName" value="SMTPDevUser"/>
    <add key="password" value="Smtp@12345"/>
    <add key="UseTestAccount" value="vkhandelwal@skystem.com"/>
    <add key="EnableSSL" value="false"/>
    <add key="defaultEmailFromCompany" value="Admin_Dev@skystem.com"/>
    <add key="SystemURL" value="http://localhost/artweb/"/>
    <!-- End Email Settings-->
    <add key="IsEmailIDUniqueCheckRequired" value=""/>
    <add key="DBCommandTimeOut" value="180"/>
    <add key="ServiceLogFilePath" value="D:\ARTServiceLog\Log.txt"/>
    <add key="BaseFolderForFiles" value="D:\ART\SkyStemART_BaseFolderForFiles\"/>
    <add key="FolderForDownloadRequests" value="DownloadRequests"/>
    <add key="SkyStemARTBaseDatabasePath" value="D:\Databases\DatabaseTemplates\SkyStemARTBase.bak"/>

    <add key="ReportUri" value="http://localhost/ReportServer"/>
    <add key="ReportPath" value="/ReportServer_ARTReports/RecFormMain"/>

    <add key="connectionString" value="Data Source=(local); Initial Catalog=SkyStemART; Integrated Security=true;Connect Timeout=120;"/>
    <add key="connectionStringCore" value="Data Source=(local); Initial Catalog=SkyStemARTCore; Integrated Security=true;Connect Timeout=120;"/>
    <add key="connectionStringBase" value="Data Source=(local); Initial Catalog=SkyStemARTBase; Integrated Security=true;Connect Timeout=120;"/>
    <add key="connectionStringSpecific" value="Data Source={0}; Initial Catalog={1}; uid={2};pwd={3};Connect Timeout=120;"/>
    <add key="connectionStringCreateCompany" value="Data Source={0}; uid={1}; pwd={2}; Connect Timeout=120;"/>

  </appSettings>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="SkyStemARTBasicHttpBinding" closeTimeout="00:20:00" openTimeout="00:01:00" receiveTimeout="00:20:00" sendTimeout="00:20:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="1048576000" maxBufferPoolSize="104857600000" maxReceivedMessageSize="1048576000" messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="128" maxStringContentLength="1048576000" maxArrayLength="1048576000" maxBytesPerRead="4096" maxNameTableCharCount="1048576000"/>
          <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm=""/>
            <message clientCredentialType="UserName" algorithmSuite="Default"/>
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <behaviors>
      <endpointBehaviors>
        <behavior name="debuggingBehaviour">
          <dataContractSerializer maxItemsInObjectGraph="2147483646"/>
        </behavior>
      </endpointBehaviors>
    </behaviors>
    <client>
      <endpoint address="http://localhost/ARTLanguageApp/LanguageService.svc" binding="basicHttpBinding" bindingConfiguration="SkyStemARTBasicHttpBinding" contract="Proxy.LanguageService.ILanguageService" behaviorConfiguration="debuggingBehaviour" name="LanguageService"/>
      <endpoint address="http://localhost/ARTIntegrationServices/Services/FTPFileService.svc" binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IFTPFileService" contract="ARTIntegrationServices.FTPFileService.IFTPFileService" name="BasicHttpBinding_IFTPFileService"/>
      <endpoint address="http://localhost/ARTIntegrationServices/Services/FTPUserService.svc" binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IFTPUserService" contract="ARTIntegrationServices.FTPUserService.IFTPUserService" name="BasicHttpBinding_IFTPUserService"/>
    </client>
  </system.serviceModel>
  <!--<system.diagnostics>
    <sources>
      <source name="System.ServiceModel"
      switchValue="Information, ActivityTracing"
      propagateActivity="true" >
        <listeners>
          <add name="xml" type="System.Diagnostics.XmlWriterTraceListener" initializeData="c:\logs\Traces.svclog"/>
        </listeners>
      </source>
    </sources>
  </system.diagnostics>-->
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.6.1"/>
  </startup>
</configuration>
